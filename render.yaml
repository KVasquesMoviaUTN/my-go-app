services:
  # Backend Service (Go Bot)
  - type: web
    name: arbitrage-bot
    env: docker
    plan: free
    dockerContext: .
    dockerfilePath: Dockerfile
    envVars:
      - key: ETH_NODE_WS
        sync: false # User must provide this in Render Dashboard
      - key: ETH_NODE_HTTP
        sync: false # User must provide this in Render Dashboard

  # Frontend Service (Next.js)
  - type: web
    name: arbitrage-dashboard
    env: node
    plan: free
    buildCommand: cd dashboard && npm install && npm run build
    startCommand: cd dashboard && npm start
    envVars:
      - key: NEXT_PUBLIC_API_URL
        fromService:
          type: web
          name: arbitrage-bot
          property: host
